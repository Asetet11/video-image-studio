const path=require('path');const fs=require('fs');const icongen=require('icon-gen');const pngToIco=require('png-to-ico');const src=path.resolve(__dirname,'..','art','luna.png');const out=path.resolve(__dirname,'..','build');fs.mkdirSync(out,{recursive:true});fs.copyFileSync(src,path.join(out,'icon.png'));icongen(src,out,{report:true,modes:['ico','icns']}).then(async()=>{try{const ico=await pngToIco(src);fs.writeFileSync(path.join(out,'icon.ico'),ico)}catch(e){console.warn('png-to-ico fallback failed:',e.message)}console.log('Icons generated in build/')}).catch(e=>{console.error(e);process.exit(1)})
